!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=r.parcelRequire6662;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){let t=a[e];delete a[e];let r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){a[e]=t},r.parcelRequire6662=i),i.register("3OOJ5",(function(t,r){var n,a;e(t.exports,"resolve",(()=>a),(e=>a=e)),e(t.exports,"register",(()=>n),(e=>n=e));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("3OOJ5").register(JSON.parse('{"75nrA":"home.HASH_REF_e8d91f3ec6fdd665107d8612c984920a.js","6MDiI":"cerrar.HASH_REF_deea2576e315258d49cfcc3ffcb2d3a4.svg"}'));const s={hits:[],totalHits:0,totalResult:20,query:"",page:1,initPage:1},o=async function(e=s.initPage){try{let t=`https://pixabay.com/api/?key=17167571-d840cd320f8aaa6d4b36831e4&page=${e}`;s.query&&(t=`${t}&q="${s.query}"`);const r=await async function(e){try{const r=await Promise.race([fetch(e),(t=10,new Promise((function(e,r){setTimeout((()=>{r(new Error(`Request took too long! Timeout after ${t} second`))}),1e3*t)})))]),n=await r.json();if(!r.ok)throw new Error("no results found! Please try again");return n}catch(e){throw e}var t}(t);if(0===r.totalHits)throw new Error("No results found, please try another name");s.hits=r.hits,s.totalHits=r.totalHits,s.page=parseInt(Math.ceil(s.totalHits/s.totalResult))}catch(e){throw e}};var l;i.register("31oBo",(function(t,r){var n;e(t.exports,"getBundleURL",(()=>n),(e=>n=e));var a=null;function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(){return a||(a=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[0])}return"/"}()),a}})),i.register("3XRD4",(function(e,t){"use strict";var r=i("3OOJ5").resolve;function n(e){if(""===e)return".";var t="/"===e[e.length-1]?e.slice(0,e.length-1):e,r=t.lastIndexOf("/");return-1===r?".":t.slice(0,r)}function a(e,t){if(e===t)return"";var r=e.split("/");"."===r[0]&&r.shift();var n,a,i=t.split("/");for("."===i[0]&&i.shift(),n=0;(n<i.length||n<r.length)&&null==a;n++)r[n]!==i[n]&&(a=n);var s=[];for(n=0;n<r.length-a;n++)s.push("..");return i.length>a&&s.push.apply(s,i.slice(a)),s.join("/")}e.exports=function(e,t){return a(n(r(e)),r(t))},e.exports._dirname=n,e.exports._relative=a})),l=i("31oBo").getBundleURL()+i("3XRD4")("75nrA","6MDiI");var c=class{_component=document.querySelector(".component");message="It seems that an error has occurred! Please please try again";_data;render(e){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;const t=this._generateMarkup();this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}_clear(){this._parentElement.innerHTML="",this._component.innerHTML=""}renderSpinner(){this._clear(),this._component.insertAdjacentHTML("afterbegin",'\n        <div class="lds-ring"><div></div><div></div><div></div><div>\n        ')}renderError(e=this.message){const r=`\n        <div class="error">\n          <div>\n            <img src="${t(l)}" alt="error" />\n          </div>\n          <h1>${e}</h1>\n        </div>\n       `;this._clear(),this._component.insertAdjacentHTML("afterbegin",r)}};var u=new class extends c{_parentElement=document.querySelector(".overview");_generateMarkup(){return this._data.map(this._generateMarkupImages).join("")}_generateMarkupImages(e){return`\n            <div class="overview__item">\n                <a href="/preview.html/?id=${e.id}">\n                    <img src="${e.webformatURL}" alt="${e.tags}" />\n                </a>\n                <h2>${e.tags}</h2>\n            </div>\n        `}addHandleLoadOverview(e){window.addEventListener("load",e)}};var d=new class extends c{_parentElement=document.querySelector(".pagination");_generateMarkup(){let e="";for(let t=1;t<=this._data.page;++t)e+=this._generateButtonsMarkup(t);return e}_generateButtonsMarkup(e){return`\n            <button data-page="${e}" class="btn btn--pagination">\n                ${e} \n            </button>\n        `}addHandleClickPagination(e){this._parentElement.addEventListener("click",(function(t){const r=t.target.closest(".btn");r&&e(+r.dataset.page)}))}};var h=new class extends c{_parentElement=document.querySelector(".search");message="No results found, please try another name";getQuery(){const e=this._parentElement.querySelector(".search__input").value;return this._clearInputValue(),e}_clearInputValue(){this._parentElement.querySelector(".search__input").value=""}addHandleSearchClick(e){this._parentElement.addEventListener("submit",(function(t){t.preventDefault(),e()}))}};const p=async function(e=s.initPage){try{u.renderSpinner(),s.query=new URLSearchParams(location.search).get("search")||s.query,await o(e),u.render(s.hits),d.render(s)}catch(e){e.message="Failed to fetch",e.message="An unexpected error has occurred! Please reload the page",u.renderError(e.message)}},f=async function(){const e=h.getQuery();e&&(s.query=e,p(s.initPage))};u.addHandleLoadOverview(p),d.addHandleClickPagination(p),h.addHandleSearchClick(f)}();
//# sourceMappingURL=home.HASH_REF_e8d91f3ec6fdd665107d8612c984920a.js.map
