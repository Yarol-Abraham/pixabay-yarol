var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "state", ()=>state
);
parcelHelpers.export(exports, "loadPreview", ()=>loadPreview
);
parcelHelpers.export(exports, "loadRelationsPreview", ()=>loadRelationsPreview
);
var _configJs = require("../config.js");
var _helpersJs = require("../helpers.js");
const state = {
    data: {
    },
    tags: [],
    relations: []
};
const loadPreview = async function(id) {
    try {
        const data = await _helpersJs.getJSON(`${_configJs.API_URL}&id=${id}`);
        state.data = data.hits[0];
        state.tags = state.data.tags.split(',');
    } catch (error) {
        throw error;
    }
};
const loadRelationsPreview = async function() {
    try {
        const query = state.tags.map((tag)=>tag
        ).join('');
        const relations = await _helpersJs.getJSON(`${_configJs.API_URL}&q=${query}&per_page=3`);
        state.relations = relations;
        console.log(state);
    } catch (error) {
        throw error;
    }
};
